var config = require('config');
var path = require('path');
var log = require('logger')(module.filename);

function register(server) {

    var tRoutePath;
    var tRoute;
    var r;

    for (r = 0; r < config.resources.length; r++) {

        var tRoutePath = 'lib/resources/' + config.resources[r] + '/routes.js';

        tRoutePath = path.resolve(tRoutePath);

        try {
            tRoute = require(tRoutePath);
        } catch (err) {
            log.error({err: err});
            continue;
        }

        server.route(tRoute);

    }

}

exports.register = register;

